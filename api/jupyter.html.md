# Jupyter compatibility


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

``` python
from httpx import get, AsyncClient
```

## Helper functions

------------------------------------------------------------------------

<a
href="https://github.com/AnswerDotAI/fasthtml/blob/main/fasthtml/jupyter.py#L18"
target="_blank" style="float:right; font-size:smaller">source</a>

### nb_serve

>      nb_serve (app, log_level='error', port=8000, **kwargs)

*Start a Jupyter compatible uvicorn server with ASGI `app` on `port`
with `log_level`*

------------------------------------------------------------------------

<a
href="https://github.com/AnswerDotAI/fasthtml/blob/main/fasthtml/jupyter.py#L28"
target="_blank" style="float:right; font-size:smaller">source</a>

### nb_serve_async

>      nb_serve_async (app, log_level='error', port=8000, **kwargs)

*Async version of
[`nb_serve`](https://AnswerDotAI.github.io/fasthtml/api/jupyter.html#nb_serve)*

------------------------------------------------------------------------

<a
href="https://github.com/AnswerDotAI/fasthtml/blob/main/fasthtml/jupyter.py#L36"
target="_blank" style="float:right; font-size:smaller">source</a>

### is_port_free

>      is_port_free (port, host='localhost')

*Check if `port` is free on `host`*

------------------------------------------------------------------------

<a
href="https://github.com/AnswerDotAI/fasthtml/blob/main/fasthtml/jupyter.py#L47"
target="_blank" style="float:right; font-size:smaller">source</a>

### wait_port_free

>      wait_port_free (port, host='localhost', max_wait=3)

*Wait for `port` to be free on `host`*

## Using FastHTML in Jupyter

------------------------------------------------------------------------

<a
href="https://github.com/AnswerDotAI/fasthtml/blob/main/fasthtml/jupyter.py#L59"
target="_blank" style="float:right; font-size:smaller">source</a>

### JupyUvi

>      JupyUvi (app, log_level='error', port=8000, start=True, **kwargs)

*Start and stop a Jupyter compatible uvicorn server with ASGI `app` on
`port` with `log_level`*

Creating an object of this class also starts the Uvicorn server. It runs
in a separate thread, so you can use normal HTTP client functions in a
notebook.

``` python
app = FastHTML()

@app.route
def index(): return 'hi'

port = 8000
server = JupyUvi(app, port=port)
```

``` python
get(f'http://localhost:{port}').text
```

    'hi'

You can stop the server, modify routes, and start the server again
without restarting the notebook or recreating the server or application.

``` python
server.stop()
```

------------------------------------------------------------------------

<a
href="https://github.com/AnswerDotAI/fasthtml/blob/main/fasthtml/jupyter.py#L87"
target="_blank" style="float:right; font-size:smaller">source</a>

### FastJupy

>      FastJupy (hdrs=None, middleware=None, **kwargs)

*Same as FastHTML, but with Jupyter compatible middleware and headers
added*

Instead of using the FastHTML class, use the FastJupy class. Itâ€™s a thin
wrapper for FastHTML which adds the necessary headers and middleware
required for Jupyter compatibility.

``` python
app = FastJupy()
rt = app.route
server = JupyUvi(app, port=port)
```

------------------------------------------------------------------------

<a
href="https://github.com/AnswerDotAI/fasthtml/blob/main/fasthtml/jupyter.py#L94"
target="_blank" style="float:right; font-size:smaller">source</a>

### HTMX

>      HTMX (path='', host='localhost', port=8000, iframe_height='auto')

*An iframe which displays the HTMX application in a notebook.*

``` python
@rt
def index():
    return Div(
        P(A('Click me', hx_get=update, hx_target='#result')),
        P(A('No me!', hx_get=update, hx_target='#result')),
        Div(id='result'))

@rt
def update(): return Div(P('Hi!'),P('There!'))
```

``` python
# Run the notebook locally to see the HTMX iframe in action
# HTMX()

# If only part of the page gets displayed, try tweaking the iframe_height parameter, for example:
# HTMX(iframe_height="800px")
```

``` python
server.stop()
```

------------------------------------------------------------------------

<a
href="https://github.com/AnswerDotAI/fasthtml/blob/main/fasthtml/jupyter.py#L105"
target="_blank" style="float:right; font-size:smaller">source</a>

### ws_client

>      ws_client (app, nm='', host='localhost', port=8000, ws_connect='/ws',
>                 frame=True, link=True, **kwargs)

## jupy_app

------------------------------------------------------------------------

<a
href="https://github.com/AnswerDotAI/fasthtml/blob/main/fasthtml/jupyter.py#L119"
target="_blank" style="float:right; font-size:smaller">source</a>

### jupy_app

>      jupy_app (pico=False, hdrs=None, middleware=None, **kwargs)

*Same as
[`fast_app`](https://AnswerDotAI.github.io/fasthtml/api/fastapp.html#fast_app)
but for Jupyter notebooks*

``` python
app,rt = jupy_app()
server = JupyUvi(app)
```

``` python
@rt
def index():
    return Div(
        P(A('Click me', hx_get=update, hx_target='#result')),
        P(A('No me!', hx_get=update, hx_target='#result')),
        Div(id='result'))

@rt
def update(): return Div(P('Hi!'),P('Rachel!'))
```

``` python
# Run the notebook locally to see the HTMX iframe in action
# HTMX()
# HTMX(update)
# HTMX('/update')
```

``` python
server.stop()
```
